# 苍穹外卖系统 - 快速启动指南

## 第一步：安装必备软件

### 1. 安装JDK 11
- 下载地址：https://www.oracle.com/java/technologies/javase/jdk11-archive-downloads.html
- 配置环境变量 JAVA_HOME

验证安装：
```bash
java -version
```

### 2. 安装Maven
- 下载地址：https://maven.apache.org/download.cgi
- 配置环境变量 MAVEN_HOME

验证安装：
```bash
mvn -version
```

### 3. 安装MySQL
- 下载地址：https://dev.mysql.com/downloads/mysql/
- 建议版本：MySQL 5.7 或 8.0
- 记住你设置的root密码

验证安装：
```bash
mysql -u root -p
```

### 4. 安装IDEA（推荐）
- 下载地址：https://www.jetbrains.com/idea/download/
- 社区版即可（免费）

## 第二步：初始化数据库

### 1. 启动MySQL服务
Windows:
```bash

```

### 2. 登录MySQL
```bash
mysql -u root -p
```
输入你的MySQL密码

### 3. 执行数据库脚本
在MySQL命令行中：
```sql
source E:\sky_take_out\database\sky_take_out.sql
```

或者使用可视化工具（如Navicat、DBeaver）导入SQL文件。

### 4. 验证数据库创建成功
```sql
use sky_take_out;
show tables;
```   

应该看到以下表：
- employee（员工表）
- user（用户表）
- category（分类表）
- dish（菜品表）
- shopping_cart（购物车表）
- orders（订单表）
- order_detail（订单明细表）

## 第三步：配置项目

### 1. 修改数据库连接信息

打开文件：`sky-server/src/main/resources/application.yml`

修改以下配置：
```yaml
spring:
  datasource:
    druid:
      username: root        # 改成你的MySQL用户名
      password: 123456      # 改成你的MySQL密码
```

## 第四步：导入并启动项目

### 方式一：使用IDEA（推荐）

1. **打开IDEA**
   - File -> Open
   - 选择项目根目录 `E:\sky_take_out`
   - 点击OK

2. **等待Maven依赖下载**
   - IDEA会自动识别Maven项目
   - 右下角会显示下载进度
   - 首次下载可能需要10-20分钟（取决于网速）

3. **配置JDK**
   - File -> Project Structure
   - Project -> Project SDK -> 选择JDK 11

4. **启动项目**
   - 找到 `sky-server/src/main/java/com/sky/SkyApplication.java`
   - 右键 -> Run 'SkyApplication'
   - 看到 "server started" 表示启动成功

### 方式二：使用命令行

1. **进入项目目录**
```bash
cd E:\sky_take_out
```

2. **编译项目**
```bash
mvn clean install
```

3. **启动项目**
```bash
cd sky-server
mvn spring-boot:run
```

## 第五步：测试接口

### 使用Swagger测试（推荐）

1. **访问Swagger文档**
   打开浏览器访问：http://localhost:8080/swagger-ui.html

2. **测试管理员登录**
   - 找到 "员工相关接口" -> POST /admin/employee/login
   - 点击 "Try it out"
   - 输入：
     ```json
     {
       "username": "admin",
       "password": "123456"
     }
     ```
   - 点击 "Execute"
   - 复制返回的token值

3. **测试其他接口**
   - 点击页面右上角的 "Authorize" 按钮
   - 输入：token {刚才复制的token值}
   - 点击 "Authorize"
   - 现在可以测试其他需要认证的接口了

### 使用Postman测试

1. **下载Postman**
   - 地址：https://www.postman.com/downloads/

2. **管理员登录**
   ```
   POST http://localhost:8080/admin/employee/login
   Headers:
     Content-Type: application/json
   Body (raw JSON):
   {
     "username": "admin",
     "password": "123456"
   }
   ```

3. **使用返回的token访问其他接口**
   ```
   GET http://localhost:8080/admin/dish/list
   Headers:
     Content-Type: application/json
     token: {登录返回的token}
   ```

## 常见问题解决

### 问题1：Maven依赖下载失败
**解决方案**：配置阿里云Maven镜像
打开 Maven安装目录/conf/settings.xml，添加：
```xml
<mirrors>
  <mirror>
    <id>aliyun</id>
    <mirrorOf>central</mirrorOf>
    <name>Aliyun Maven</name>
    <url>https://maven.aliyun.com/repository/public</url>
  </mirror>
</mirrors>
```

### 问题2：端口8080被占用
**解决方案**：修改端口
打开 `application.yml`，修改：
```yaml
server:
  port: 8081  # 改成其他端口
```

### 问题3：数据库连接失败
**检查清单**：
- [ ] MySQL服务是否启动
- [ ] 用户名密码是否正确
- [ ] 数据库名称是否正确（sky_take_out）
- [ ] 端口是否正确（默认3306）

### 问题4：启动报错找不到主类
**解决方案**：
1. 清理项目：mvn clean
2. 重新编译：mvn install
3. 刷新IDEA：File -> Invalidate Caches -> Invalidate and Restart

## 学习路径建议

### 第一阶段：熟悉项目
1. 阅读README.md了解项目结构
2. 查看数据库表结构
3. 使用Swagger测试所有接口
4. 理解每个接口的业务逻辑

### 第二阶段：理解代码
1. 从Controller开始，理解接口定义
2. 追踪到Service，理解业务逻辑
3. 查看Mapper，理解数据库操作
4. 学习拦截器、异常处理等通用功能

### 第三阶段：动手实践
1. 尝试修改现有功能
2. 添加新的接口
3. 实现新的业务功能
4. 优化代码结构

### 第四阶段：扩展提升
1. 添加更多业务功能
2. 优化性能（缓存、SQL优化）
3. 完善异常处理
4. 编写单元测试
5. 开发前端页面

## 接下来做什么？

1. **测试所有功能**
   - 管理端：登录、菜品管理、订单管理
   - 用户端：登录、浏览菜品、购物车、下单

2. **阅读代码**
   - 理解每一层的职责
   - 学习设计模式的应用
   - 掌握Spring Boot常用注解

3. **尝试修改**
   - 修改菜品实体，增加新字段
   - 添加菜品评价功能
   - 实现分页查询

4. **继续学习**
   - 学习前端开发（Vue.js）
   - 学习Redis缓存
   - 学习微服务架构

## 需要帮助？

如果遇到问题：
1. 查看控制台错误日志
2. 检查数据库连接
3. 验证配置文件
4. 查看README.md中的常见问题

祝你学习顺利！🚀
