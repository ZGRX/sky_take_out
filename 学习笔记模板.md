# 苍穹外卖学习笔记

## 第一天：项目搭建与环境配置

### 学习目标
- [ ] 理解Maven多模块项目结构
- [ ] 掌握Spring Boot项目配置
- [ ] 了解数据库表设计

### 知识点记录

#### 1. Maven多模块结构
```
sky-take-out/           # 父项目
├── sky-common/         # 公共模块
├── sky-pojo/           # 实体类模块
└── sky-server/         # 服务端模块
```

**为什么这样设计？**
- 模块化：职责清晰，便于维护
- 复用性：公共代码可以被多个模块使用
- 扩展性：方便后续添加新模块

#### 2. Spring Boot自动配置
记录你理解的Spring Boot核心注解：
- `@SpringBootApplication`：
- `@RestController`：
- `@RequestMapping`：
- `@Autowired`：

#### 3. 数据库表设计
理解每个表的作用：
- employee（员工表）：
- user（用户表）：
- dish（菜品表）：
- orders（订单表）：

**你的思考**：

---

## 第二天：认证与授权

### 学习目标
- [ ] 理解JWT认证原理
- [ ] 掌握拦截器的使用
- [ ] 了解ThreadLocal的应用

### 知识点记录

#### 1. JWT认证流程
```
1. 用户登录 → 
2. 验证账号密码 → 
3. 生成JWT token → 
4. 返回token给客户端 → 
5. 客户端携带token访问接口 → 
6. 拦截器验证token → 
7. 解析token获取用户信息
```

**代码位置**：
- JWT生成：`JwtUtil.createJWT()`
- JWT解析：`JwtUtil.parseJWT()`
- 拦截器：`JwtTokenAdminInterceptor`

#### 2. 拦截器工作原理
画出请求处理流程图：
```
客户端请求 → 拦截器preHandle → Controller → Service → Mapper → 数据库
```

**你的理解**：

#### 3. ThreadLocal应用
`BaseContext`如何保存当前用户ID？
- 原理：
- 使用场景：
- 注意事项：

---

## 第三天：业务功能实现

### 学习目标
- [ ] 掌握RESTful API设计
- [ ] 理解三层架构
- [ ] 学习事务管理

### 知识点记录

#### 1. 三层架构
记录一个完整的请求流程（以查询菜品为例）：

**Controller层**：
```java
// 你的理解和代码片段
```

**Service层**：
```java
// 你的理解和代码片段
```

**Mapper层**：
```java
// 你的理解和代码片段
```

#### 2. RESTful API设计规范
| HTTP方法 | 路径 | 说明 | 示例 |
|---------|------|------|------|
| GET | /resource | 查询列表 | GET /dish/list |
| GET | /resource/{id} | 查询详情 | GET /dish/1 |
| POST | /resource | 新增 | POST /dish |
| PUT | /resource | 修改 | PUT /dish |
| DELETE | /resource/{id} | 删除 | DELETE /dish/1 |

**你的总结**：

#### 3. 事务管理
订单提交为什么要用事务？
- 场景：
- 使用方式：`@Transactional`
- 注意事项：

---

## 第四天：购物车与订单

### 学习目标
- [ ] 理解购物车业务逻辑
- [ ] 掌握订单流程设计
- [ ] 学习批量操作

### 知识点记录

#### 1. 购物车业务
添加购物车的逻辑：
```
1. 判断商品是否已在购物车
2. 如果存在 → 数量+1
3. 如果不存在 → 新增记录
```

**代码实现**：
```java
// 记录关键代码
```

#### 2. 订单流程
画出完整的订单流程图：
```
查看菜品 → 加入购物车 → 提交订单 → 清空购物车 → 生成订单明细
```

**数据库操作顺序**：
1. 
2. 
3. 

#### 3. 批量插入
`OrderDetailMapper.insertBatch()` 如何实现？
- MyBatis XML配置：
- foreach标签的使用：

---

## 第五天：进阶学习

### 学习目标
- [ ] 异常处理机制
- [ ] 统一结果封装
- [ ] 代码优化

### 知识点记录

#### 1. 全局异常处理
`@RestControllerAdvice`的作用：
- 
- 

如何自定义业务异常？
```java
// 你的实现
```

#### 2. 统一结果封装
`Result<T>`的设计：
- 成功：`Result.success(data)`
- 失败：`Result.error(msg)`

**为什么要统一封装？**
- 
- 

#### 3. 代码优化点
你发现的可以优化的地方：
1. 
2. 
3. 

---

## 常见问题与解决

### 问题1：
**现象**：
**原因**：
**解决方案**：

### 问题2：
**现象**：
**原因**：
**解决方案**：

---

## 扩展学习

### 想要实现的功能
1. [ ] 地址簿管理
2. [ ] 菜品评价
3. [ ] 实时订单推送
4. [ ] 优惠券功能
5. [ ] 订单统计报表

### 技术探索
1. [ ] Redis缓存
2. [ ] 消息队列
3. [ ] 分页查询
4. [ ] 文件上传
5. [ ] 前端开发（Vue）

---

## 学习总结

### 本周学到的最重要的3个知识点
1. 
2. 
3. 

### 遇到的困难
1. 
2. 

### 下周学习计划
1. 
2. 
3. 

---

## 代码片段收藏

### 有用的工具类
```java
// 记录你觉得有用的代码片段
```

### 常用SQL
```sql
-- 记录常用的SQL语句
```

### 配置模板
```yaml
# 记录常用配置
```

---

## 项目心得

写下你在学习这个项目过程中的感悟：

1. 关于架构设计：

2. 关于代码规范：

3. 关于业务理解：

4. 对未来学习的规划：

---

**记录日期**：
**当前进度**：
**下一步计划**：
